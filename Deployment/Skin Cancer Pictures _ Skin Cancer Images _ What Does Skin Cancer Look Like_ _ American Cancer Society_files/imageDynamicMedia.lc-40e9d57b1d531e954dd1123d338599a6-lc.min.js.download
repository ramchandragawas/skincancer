(function(f){window.CMP=window.CMP||{};window.CMP.image=window.CMP.image||{};window.CMP.image.dynamicMedia=function(){function h(a,b){for(var d=a.length,c=0;c<d-1&&a[c]<b;)c++;return void 0!==a[c]?a[c].toString():b}var g={},f=window.devicePixelRatio||1,k=function(a){var b=new XMLHttpRequest;a=a.split("{.width}")[0]+"?req\x3dset,json";b.open("GET",a,!1);b.onload=function(){if(200<=b.status&&400>b.status){var a=new RegExp(/^{[\s\S]*}$/gmi),c=(new RegExp(/^(?:\/\*jsonp\*\/)?\s*([^()]+)\(([\s\S]+),\s*"[0-9]*"\);?$/gmi)).exec(b.responseText),
e;c&&(c=c[2],a.test(c)&&(e=JSON.parse(c)));if(e&&e.set.relation&&0<e.set.relation.length)for(a=0;a<e.set.relation.length;a++)g[parseInt(e.set.relation[a].userdata.SmartCropWidth)]=":"+e.set.relation[a].userdata.SmartCropDef}};b.send();return g},l=function(a,b){for(var d=a.offsetWidth;20>d&&b&&!a._autoWidth;)d=b.offsetWidth,b=b.parentNode;return d};return{getAutoSmartCrops:k,getSrcSet:function(a,b){if(0<Object.keys(b).length){var d=[];for(var c in g)d.push(a.replace("{.width}",b[c])+" "+c+"w")}return d.join(",")},
getSrc:function(a,b){-1<a.indexOf("{.width}")&&(a=a.replace("{.width}",b));return a},setDMAttributes:function(a,b){var d=b.src.replace("dpr\x3doff","dpr\x3don,{dpr}");d=d.replace("{dpr}",f);var c={};"SmartCrop:Auto"===b.smartcroprendition&&(c=k(d));if(b.widths&&0<b.widths.length||0<Object.keys(c).length){var e=a.querySelector("img");a=l(a,a.parentNode);"SmartCrop:Auto"===b.smartcroprendition?(e.setAttribute("srcset",CMP.image.dynamicMedia.getSrcSet(d,c)),b=h(Object.keys(c,a)),e.setAttribute("src",
CMP.image.dynamicMedia.getSrc(d,c[b]))):(b=h(b.widths,a),e.setAttribute("src",CMP.image.dynamicMedia.getSrc(d,b)))}},getWidth:l}}();f.dispatchEvent(new CustomEvent("core.wcm.components.commons.site.image.dynamic-media.loaded"))})(window.document);